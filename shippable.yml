language: node_js

# Version number
node_js:
  #- 0.10
  #- 0.12
  #- 4.2.3
  - iojs-v1
  #- iojs-v2
  #- iojs-v3
  #- 5.0

env:
  global:
    - FOO=FUBU  
    - secure: e1R9iCnOp552uA+R9sD1YmS39BRbLSsAuRECBeziM9oAIxm/unzDIMYVS84XSUhSReEu8xwYbl/Dm0xdBC2AwM//7c4XBSI4fdh8DUFzvALzhAdVzLowKs6IbfBHwL0r87NHt3LgBjQDNaHpDfahmYijRpatx5a9GE4rq9jcMycxwinEkrYldBgQs7bjbdnZ/Y0WUUiSKuK5ouggwYToqeSes+zsKu86c+F+Cddcv23GH9Ufv0XcIDwRIKcigT6HmQ2/+a6v5azxyjg1SvtGojyX+ljYanH66FcEnTkhfKDiSJ7yX/Bx7WAwTqx3q6JSd/n3pcbpOwKtbNR3kUyGnQ==

  matrix:
    - M1=ONE

build:
  pre_ci:
   #  - docker pull shippabledocker/sample_node_pvt
    #-  docker pull shippabledocker/shiphitchcock1_sample_nod111
    - docker build -t=shippabledocker/samplenodercimg:$BRANCH.$BUILD_NUMBER .

  pre_ci_boot:
      image_name: shippabledocker/samplenodercimg
      image_tag: docker
      pull: false
      options: '--privileged=true --net=bridge -e FOO=true -e BOO=false'

  ci:
    - node --version  
    - ps -eax
    - ls -al 
    - echo $test

  post_ci:
    - docker push shippabledocker/samplenodercimg:$BRANCH.$BUILD_NUMBER
#branches:
#  except:
   # - docker-preci
integrations:
  hub:
    - integrationName: ship-docker-1
      type: docker 
